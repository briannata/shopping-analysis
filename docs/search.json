[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Amazon Shopping Analysis",
    "section": "",
    "text": "1 Introduction\nWe are exploring shopping habits in the United States, specifically purchases on Amazon from 2018 to 2023. Amazon is the largest online retailer so analyzing its shopping trends gives us insight into people’s needs and wants.\nWe are interested in exploring how the COVID-19 pandemic influenced online shopping trends, particularly how much people spent and what products were the most popular. This dataset has data from before, during and after the pandemic, allowing us to get a better understanding and comparison about how the pandemic affected people’s shopping habits.\nWe also want to analyze when is the most popular time to conduct online shopping, especially the date and time. We are particularly interested in seeing whether these trends correlate with major holidays, such as Christmas, or major sale events, like Black Friday and Prime Day.\nAs for general trends, we want to investigate what are the most popular products and categories for both the whole United States, and for each state. We also want to explore whether demographics (gender, race, sexual orientation, and age) have any correlation with shopping habits. We are also interested in exploring whether income, substance abuse, and education affects people’s spending habits and has any correlation with the kinds of products they purchase on Amazon. It would also be intriguing to see if personal situations, such as having diabetes or using a wheelchair, also affects an individual’s online shopping.\nIn general, we are excited to dive into US Amazon trends and explore what variables have correlations with a person’s shopping habits.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nIdentify one or more data sources (see II. D. above) that you propose to draw on for the project. For each, describe how the data are collected and by whom. Describe the format of the data, the frequency of updates, dimensions, and any other relevant information. Note any issues / problems with the data, either known or that you discover. Explain how you plan to import the data. Carefully document your sources with links to the precise data sources that you used. If that is not possible (for example if your data is not available online, then explain that clearly.) (suggested: 1/2 page)\nThere are two datasets, amazon_purchases.csv and survey.csv, from the Harvard paper, “Open e-commerce 1.0: Five years of crowdsourced U.S. Amazon purchase histories with user demographics.” The first dataset was a longitudinal collection of purchase data from 5027 Amazon.com users recruited from the online research platforms, Prolific and CloudResearch. If the user decided to share their data with the Harvard researchers, the data was included in the amazon_purchases.csv dataset. If the user then chose to answer an additional survey about their demographics and additional questions, they were compensated for their participation in this study. All participants had to be 18 years or older, U.S. resident and English speaker, and have an active Amazon account. The data collectors were researchers Alex Berke, Robert Mahari, Sandy Pentland, Kent Larson, and Dana Calacci, affiliated with Harvard, MIT and Penn State. This was a one time study so the data collection is finalized so there are not any updates.\nThe amazon_purchases dataset is a csv file with 1048576 rows and 7 columns while the survey dataset is 5028 rows and 23 columns. There is a common column of participant id, so we will join the two datasets together to get the full picture of the participant’s amazon purchases and survey responses, which will result in a dataset with a total of 1048576 rows and 30 columns. There is missing data for some of the shipping locations, item names (title) etc. which we will have to decide how to deal with that. However, for one of the survey questions there are blank responses to represent non applicable, so we need to distinguish this difference somehow.\nWe will import the data by downloading the csv that was included in the paper. We also have access to their github in case that is useful.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "",
    "text": "2.1.1 Data sources:\nDataset Source\nTheir github",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\nWe decided to look at the missing values for the datasets separately for this step before joining them for data analysis later on.\nImports\n\n\nCode\nlibrary(ggplot2)\n\n\nWarning: package 'ggplot2' was built under R version 4.4.1\n\n\nCode\nlibrary(readr)\n\n\nWarning: package 'readr' was built under R version 4.4.1\n\n\nCode\nlibrary(naniar)\n\n\nWarning: package 'naniar' was built under R version 4.4.2\n\n\nLoad the amazon purchases data into a dataframe\n\n\nCode\namazon_purchases &lt;- read_csv(\"data/amazon-purchases.csv\")\n\n\nRows: 1850717 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (5): Shipping Address State, Title, ASIN/ISBN (Product Code), Category,...\ndbl  (2): Purchase Price Per Unit, Quantity\ndate (1): Order Date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\noptions(readr.show_col_types = FALSE)\n\n\nSee how many missing values there are in each column\n\n\nCode\nprint(\"Missing values:\")\n\n\n[1] \"Missing values:\"\n\n\nCode\nmissing_values = colSums(is.na(amazon_purchases))\nprint(missing_values)\n\n\n              Order Date  Purchase Price Per Unit                 Quantity \n                       0                        0                        0 \n  Shipping Address State                    Title ASIN/ISBN (Product Code) \n                   87812                    89740                      973 \n                Category        Survey ResponseID \n                   89458                        0 \n\n\nGraph the missing values using the naniar package’s vis_miss function\n\n\nCode\nvis_miss(amazon_purchases, warn_large_data = FALSE)  +\n  labs(\n    title = \"Missing Data Visualization for Amazon Purchase Columns\",\n    x = \"Columns\",\n    y = \"Observations\"\n  )\n\n\n\n\n\n\n\n\n\nWe chose this graph to show the patterns in the missing values in each of the columns. We noticed that observations that had one column value missing did not necessarily have missing values in other columns. There didn’t seem to be a lot of overlap, and the missing values seemed to be random and have no pattern. Shipping address state, title, and category had about 5% of their data values missing, while ASIN/ISBN had less than 0.1% missing values.\nGraph the missing values as a simple bar graph to compare which columns have the most missing values\n\n\nCode\nmissing = setNames(nm=c('colnames', 'missing'),stack(colSums(is.na(amazon_purchases)))[2:1])\n\nggplot(missing, aes(x=colnames, y=missing)) + geom_bar(stat=\"identity\") +ggtitle(\"Distribution of Missing Values by Column Name for Amazon Purchases\") + theme(axis.text.x = element_text(angle = 45, hjust = 1)) + xlab(\"Columns\") + ylab(\"Number of Missing Values\")\n\n\n\n\n\n\n\n\n\nWe noticed that shipping address state, title, and category had approximately the same amount of missing values. ASIN/ISBN had a very small amount of missing values, while the rest of the columns had no missing values.\nLoad in the survey dataset as a dataframe\n\n\nCode\nsurvey &lt;- read_csv(\"data/survey.csv\")\n\n\nPrint out the missing values per column in this dataset\n\n\nCode\nprint(\"Missing values:\")\n\n\n[1] \"Missing values:\"\n\n\nCode\nprint(colSums(is.na(survey)))\n\n\n         Survey ResponseID                Q-demos-age \n                         0                          0 \n          Q-demos-hispanic               Q-demos-race \n                         0                          0 \n         Q-demos-education             Q-demos-income \n                         0                          0 \n            Q-demos-gender       Q-sexual-orientation \n                         0                          0 \n             Q-demos-state       Q-amazon-use-howmany \n                         0                          0 \n      Q-amazon-use-hh-size       Q-amazon-use-how-oft \n                         0                          0 \nQ-substance-use-cigarettes  Q-substance-use-marijuana \n                         0                          0 \n   Q-substance-use-alcohol        Q-personal-diabetes \n                         0                          0 \n     Q-personal-wheelchair             Q-life-changes \n                         0                       3384 \n          Q-sell-YOUR-data       Q-sell-consumer-data \n                         0                          0 \n           Q-small-biz-use               Q-census-use \n                         0                          0 \n        Q-research-society \n                         0 \n\n\nQ-life-changes is the only column that has missing values in this survey dataset. This question is optional, which is why we expected to see this pattern of missing values for only this column.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 State Map of Total Amazon Purchases\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(maps)\n\n# Calculate the total number of purchases in each state\ntotal_purchases_by_state &lt;- joined_df %&gt;%\n  group_by(`Q-demos-state`) %&gt;%\n  summarise(total_purchases = n()) %&gt;%\n  mutate(`Q-demos-state` = tolower(`Q-demos-state`)) %&gt;%\n  arrange(desc(total_purchases))\n\n# Load map data for states\nstates &lt;- map_data(\"state\")\n\n# Join the purchase data with map data\nstates_purchases &lt;- states %&gt;%\n  rename(`Q-demos-state` = region) %&gt;%\n  left_join(total_purchases_by_state, by = \"Q-demos-state\")\n\n# Plot the data on a map\nggplot(states_purchases, aes(long, lat, group = group, fill = total_purchases)) +\n  geom_polygon(color = \"black\") +\n  scale_fill_viridis_c(option = \"magma\", na.value = \"gray\", direction = -1) +\n  theme_minimal() +\n  labs(title = \"Total Amazon Purchases from 2018 to 2023 by State\", fill = \"Total Purchases\")\nWe used a US state map to visualize which states made the most Amazon purchases and which had the least from 2018 to 2023. California had the greatest amount of Amazon purchases by a large margin, while Texas had the second highest. We were not surprised that California had the most purchases, but we were surprised that Texas was second. Many midwest states, such as Montana, North Dakota, South Dakota, and Wyoming, had the least Amazon purchases.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#graph-2",
    "href": "results.html#graph-2",
    "title": "3  Results",
    "section": "3.2 Graph 2",
    "text": "3.2 Graph 2\n\n\nCode\nlibrary(RColorBrewer)\n\n# Convert Order Date to Date type\npurchase$`Order Date` &lt;- as.Date(purchase$`Order Date`, format=\"%Y-%m-%d\")\n\n# Extract Year from Order Date\npurchase$Year &lt;- format(purchase$`Order Date`, \"%Y\")\n\n# Group by Year and Category to count purchases\ncategory_counts &lt;- purchase %&gt;%\n  group_by(Year, Category) %&gt;%\n  summarise(purchases = n()) %&gt;%\n  ungroup()\n\n# Remove 'NA' categories and filter out the year 2024\ncategory_counts &lt;- category_counts %&gt;%\n  filter(Category != \"NA\" & Year != \"2024\")\n\n# Get the top 5 most purchased categories for each year\ntop_categories &lt;- category_counts %&gt;%\n  group_by(Year) %&gt;%\n  top_n(5, purchases) %&gt;%\n  ungroup()\n\n# Order categories within each year by number of purchases (tallest to shortest)\ntop_categories$Category &lt;- factor(top_categories$Category, \n                                   levels = top_categories %&gt;%\n                                     group_by(Year) %&gt;%\n                                     arrange(Year, desc(purchases)) %&gt;%\n                                     pull(Category) %&gt;%\n                                     unique())\n\n# Choose a qualitative color palette\npalette &lt;- brewer.pal(8, \"Set2\")\n\n# Create the grouped bar graph\nggplot(top_categories, aes(x = Year, y = purchases, fill = Category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Top 5 Most Purchased Amazon Categories by Year\",\n       x = \"Year\", y = \"Number of Purchases\") +\n  scale_fill_manual(values = palette) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nThis grouped bar chart shows the top purchases per year. For each year, books are consistently the top category purchased, followed by pet food. However, in 2022 and 2023, gift cards were no longer considered a top category and instead, medicine appeared. People also bought more nutritional supplements than shirts until 2021 and 2022, and then in 2023 nutritional supplements were more popular again.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#graph-3",
    "href": "results.html#graph-3",
    "title": "3  Results",
    "section": "3.3 Graph 3",
    "text": "3.3 Graph 3\n\n\nCode\n# Calculate total spending per user\nuser_spending &lt;- joined_df %&gt;%\n  mutate(Total_Spent = `Purchase Price Per Unit` * Quantity) %&gt;%\n  group_by(`Survey ResponseID`) %&gt;%\n  summarise(Total_Spent_Per_User = sum(Total_Spent, na.rm = TRUE))\n\n# Plot a histogram of total spending per user\nggplot(user_spending, aes(x = Total_Spent_Per_User)) +\n  geom_histogram(binwidth = 1000, fill = \"blue\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"Distribution of Total Spending from 2018 to 2023 Per Account\",\n    x = \"Total Spending (USD)\",\n    y = \"Number of Accounts\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis histogram shows the distribution of user’s total spending over 5 years. The number of accounts is the frequency of Amazon users/accounts that spend that much over a total of 5 years. The majority of users spend less than $30,000 in 5 years, with the highest peak being $2,000 within 5 years. This histogram however is right skewed with some users spending almost $12,000 over the 5 year period. Knowing the distribution is skewed we may need to do something with our outliers when we use our data for our other visualizations.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#graph-4",
    "href": "results.html#graph-4",
    "title": "3  Results",
    "section": "3.4 Graph 4",
    "text": "3.4 Graph 4\n\n\nCode\nlibrary(ggalluvial)\n\n# Filter for rows where \"2023\" is in the \"Order Date\"\n# and find the top 5 categories by frequency\ntop_categories &lt;- joined_df %&gt;%\n  filter(grepl(\"2023\", `Order Date`)) %&gt;%\n  count(Category, sort = TRUE) %&gt;%\n  slice_max(n, n = 5) %&gt;%\n  pull(Category)\n\n# Filter the data for the top 5 categories\nalluvial_data &lt;- joined_df %&gt;%\n  filter(grepl(\"2023\", `Order Date`) & Category %in% top_categories) %&gt;%\n  select(`Q-demos-age`, Category, `Q-demos-income`) %&gt;%\n  filter(!is.na(`Q-demos-age`) & !is.na(Category) & !is.na(`Q-demos-income`))\n\n# Create the alluvial diagram\nggplot(alluvial_data,\n       aes(axis1 = `Q-demos-age`, axis2 = Category, axis3 = factor(`Q-demos-income`, levels = c(\"Less than $25,000\", \"$25,000 - $49,999\", \"$50,000 - $74,999\",\"$75,000 - $99,999\", \"$100,000 - $149,999\", \"$150,000 or more\", \"Prefer not to say\")))) +\n  geom_flow(aes(fill = Category)) +\n  geom_stratum(width = 0.6) +\n  geom_text(stat = \"stratum\", aes(label = after_stat(stratum)), size = 2.5) +\n  theme_minimal() +\n  labs(title = \"Alluvial Diagram of Age, Category, and Income for 2023\",\n       x = \"Variables\",\n       y = \"Frequency\") +\n  scale_x_discrete(labels = c(\"Age\", \"Category\", \"Income\")) +\n  theme(\n    legend.position = \"top\",            # Move legend to the top\n    legend.title = element_blank(),     # Optional: remove legend title for a cleaner look\n    axis.text.x = element_text(angle = 45, hjust = 1),  # Optional: tilt axis labels\n    plot.margin = margin(10, 10, 10, 10)                # Reduce blank margins\n  )\n\n\n\n\n\n\n\n\n\nWe saw the top categories in the bar chart so now we are using an alluvial diagram to see the flow between the demographics, age and income, and the top 5 categories to find any trends or patterns. The book category has the most flow with the younger age groups buying more books on Amazon. This doesn’t mean that younger people read more and older people do not, it just shows that for this study these younger participants are buying more books online through Amazon. The second most frequent purchase category is pet food and we can see people from ages 24-54 are the top customers and usually they have a higher income. It was interesting to see that medication was the most popular for users between 24 and 44 years old with medium incomes at $25,000 - $74,999. This graph gave more insight into the interaction between variables when looking at the top categories.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#graph-5",
    "href": "results.html#graph-5",
    "title": "3  Results",
    "section": "3.5 Graph 5",
    "text": "3.5 Graph 5\n\n\nCode\nlibrary(vcd)\nsurvey = filter(survey, `Q-demos-gender` == 'Female' | `Q-demos-gender` == 'Male')\nsurvey = filter(survey, `Q-demos-education`!='Prefer not to say')\n\nsurvey = mutate(survey, `Q-demos-education` = ifelse(survey$`Q-demos-education`== \"Some High School or Less High School\" , \"&lt; High School\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Bachelor's degree\", \"Bachelors\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Graduate or professional degree (MA, MS, MBA, PhD, JD, MD, DDS, etc)\", \"Graduate\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Graduate/Professional Degree\", \"Graduate\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Some high school or less\", \"&lt;High School\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"High school diploma or GED\", \"High School\", survey$`Q-demos-education`))\nunique(survey$`Q-demos-education`)\n\n\n[1] \"High School\"  \"Graduate\"     \"Bachelors\"    \"&lt;High School\"\n\n\nCode\nsurvey = mutate(survey, `Q-amazon-use-how-oft` = ifelse(`Q-amazon-use-how-oft`== \"Less than 5 times per month\", \"&lt;5 a month\", survey$`Q-amazon-use-how-oft`))\nsurvey = mutate(survey, `Q-amazon-use-how-oft` = ifelse(`Q-amazon-use-how-oft`== \"5 - 10 times per month\", \"5-10 a month\", survey$`Q-amazon-use-how-oft`))\nsurvey = mutate(survey, `Q-amazon-use-how-oft` = ifelse(`Q-amazon-use-how-oft`== \"More than 10 times per month\", \"&gt;10 a month\", survey$`Q-amazon-use-how-oft`))\n\nvariables &lt;- c(\"Q-demos-gender\", \n               \"Q-amazon-use-how-oft\", \n               \"Q-demos-education\")\n\n# Filter the dataset to include only these variables\ndata_for_mosaic &lt;- survey %&gt;%\n  select(all_of(variables)) %&gt;%\n  na.omit() # Remove rows with NA values\n\n# Generate the mosaic plot\npairs(table(data_for_mosaic), \n      diag_panel = pairs_diagonal_mosaic(offset_varnames=-2.5),cex=1,\n      upper_panel_args = list(shade = TRUE),\n      lower_panel_args = list(shade = TRUE),\n      main = \"Mosaic Pairs Plot of Gender, Purchases per week, and High School education\")\n\n\n\n\n\n\n\n\n\nTo see if the variables have a strong association we used a mosaic plot. Gender and education levels were strongly associated. However, for our topic we are more interested in the association with how often the user purchases from Amazon a month (shopping frequency). When looking at all three variables together, they were not strongly associated. Then if we just look at gender and how often the user shops on Amazon, there appears to be more of an association compared to education level and shopping frequency.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#grouped-bar-chart-of-top-5-categories-per-year",
    "href": "results.html#grouped-bar-chart-of-top-5-categories-per-year",
    "title": "3  Results",
    "section": "3.2 Grouped Bar Chart of Top 5 Categories Per Year",
    "text": "3.2 Grouped Bar Chart of Top 5 Categories Per Year\n\n\nCode\nlibrary(RColorBrewer)\n\n# Convert Order Date to Date type\npurchase$`Order Date` &lt;- as.Date(purchase$`Order Date`, format=\"%Y-%m-%d\")\n\n# Extract Year from Order Date\npurchase$Year &lt;- format(purchase$`Order Date`, \"%Y\")\n\n# Group by Year and Category to count purchases\ncategory_counts &lt;- purchase %&gt;%\n  group_by(Year, Category) %&gt;%\n  summarise(purchases = n()) %&gt;%\n  ungroup()\n\n# Remove 'NA' categories and filter out the year 2024\ncategory_counts &lt;- category_counts %&gt;%\n  filter(Category != \"NA\" & Year != \"2024\")\n\n# Get the top 5 most purchased categories for each year\ntop_categories &lt;- category_counts %&gt;%\n  group_by(Year) %&gt;%\n  top_n(5, purchases) %&gt;%\n  ungroup()\n\n# Order categories within each year by number of purchases (tallest to shortest)\ntop_categories$Category &lt;- factor(top_categories$Category, \n                                   levels = top_categories %&gt;%\n                                     group_by(Year) %&gt;%\n                                     arrange(Year, desc(purchases)) %&gt;%\n                                     pull(Category) %&gt;%\n                                     unique())\n\n# Choose a qualitative color palette\npalette &lt;- brewer.pal(8, \"Set2\")\n\n# Create the grouped bar graph\nggplot(top_categories, aes(x = Year, y = purchases, fill = Category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Top 5 Most Purchased Amazon Categories by Year\",\n       x = \"Year\", y = \"Number of Purchases\") +\n  scale_fill_manual(values = palette) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nThis grouped bar chart shows the top purchases per year. For each year, books are consistently the top category purchased, followed by pet food. However, in 2022 and 2023, gift cards were no longer considered a top category and instead, medicine appeared.\nPeople also bought more nutritional supplements than shirts until 2021 and 2022, and then in 2023 nutritional supplements were more popular again.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#distribution-of-users-total-spending-on-amazon",
    "href": "results.html#distribution-of-users-total-spending-on-amazon",
    "title": "3  Results",
    "section": "3.3 Distribution of User’s Total Spending on Amazon",
    "text": "3.3 Distribution of User’s Total Spending on Amazon\n\n\nCode\n# Calculate total spending per user\nuser_spending &lt;- joined_df %&gt;%\n  mutate(Total_Spent = `Purchase Price Per Unit` * Quantity) %&gt;%\n  group_by(`Survey ResponseID`) %&gt;%\n  summarise(Total_Spent_Per_User = sum(Total_Spent, na.rm = TRUE))\n\n# Plot a histogram of total spending per user\nggplot(user_spending, aes(x = Total_Spent_Per_User)) +\n  geom_histogram(binwidth = 1000, fill = \"blue\", color = \"black\", alpha = 0.7) +\n  labs(\n    title = \"Distribution of Total Spending from 2018 to 2023 Per Account\",\n    x = \"Total Spending (USD)\",\n    y = \"Number of Accounts\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis histogram shows the distribution of user’s total spending over 5 years. The number of accounts is the frequency of Amazon users/accounts that spend that much over a total of 5 years. The majority of users spend less than $30,000 in 5 years, with the highest peak being $2,000 within 5 years. This histogram however is right skewed with some users spending almost $12,000 over the 5 year period. Knowing the distribution is skewed we may need to do something with our outliers when we use our data for our other visualizations.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#alluvial-diagram-of-age-amazon-category-and-income-for-2023",
    "href": "results.html#alluvial-diagram-of-age-amazon-category-and-income-for-2023",
    "title": "3  Results",
    "section": "3.4 Alluvial Diagram of Age, Amazon Category, and Income for 2023",
    "text": "3.4 Alluvial Diagram of Age, Amazon Category, and Income for 2023\n\n\nCode\nlibrary(ggalluvial)\n\n# Filter for rows where \"2023\" is in the \"Order Date\"\n# and find the top 5 categories by frequency\ntop_categories &lt;- joined_df %&gt;%\n  filter(grepl(\"2023\", `Order Date`)) %&gt;%\n  count(Category, sort = TRUE) %&gt;%\n  slice_max(n, n = 5) %&gt;%\n  pull(Category)\n\n# Filter the data for the top 5 categories\nalluvial_data &lt;- joined_df %&gt;%\n  filter(grepl(\"2023\", `Order Date`) & Category %in% top_categories) %&gt;%\n  select(`Q-demos-age`, Category, `Q-demos-income`) %&gt;%\n  filter(!is.na(`Q-demos-age`) & !is.na(Category) & !is.na(`Q-demos-income`))\n\n# Create the alluvial diagram\nggplot(alluvial_data,\n       aes(axis1 = `Q-demos-age`, axis2 = Category, axis3 = factor(`Q-demos-income`, levels = c(\"Less than $25,000\", \"$25,000 - $49,999\", \"$50,000 - $74,999\",\"$75,000 - $99,999\", \"$100,000 - $149,999\", \"$150,000 or more\", \"Prefer not to say\")))) +\n  geom_flow(aes(fill = Category)) +\n  geom_stratum(width = 0.6) +\n  geom_text(stat = \"stratum\", aes(label = after_stat(stratum)), size = 2.5) +\n  theme_minimal() +\n  labs(title = \"Alluvial Diagram of Age, Category, and Income for 2023\",\n       x = \"Variables\",\n       y = \"Frequency\") +\n  scale_x_discrete(labels = c(\"Age\", \"Category\", \"Income\")) +\n  theme(\n    legend.position = \"top\",            # Move legend to the top\n    legend.title = element_blank(),     # Optional: remove legend title for a cleaner look\n    axis.text.x = element_text(angle = 45, hjust = 1),  # Optional: tilt axis labels\n    plot.margin = margin(10, 10, 10, 10)                # Reduce blank margins\n  )\n\n\n\n\n\n\n\n\n\nWe saw the top categories in the bar chart so now we are using an alluvial diagram to see the flow between the demographics, age and income, and the top 5 categories to find any trends or patterns. The book category has the most flow with the younger age groups buying more books on Amazon. This doesn’t mean that younger people read more and older people do not, it just shows that for this study these younger participants are buying more books online through Amazon. The second most frequent purchase category is pet food and we can see people from ages 24-54 are the top customers and usually they have a higher income. It was interesting to see that medication was the most popular for users between 24 and 44 years old with medium incomes at $25,000 - $74,999. This graph gave more insight into the interaction between variables when looking at the top categories.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#mosiac-pairs-plot-of-gender-purchases-per-week-and-education",
    "href": "results.html#mosiac-pairs-plot-of-gender-purchases-per-week-and-education",
    "title": "3  Results",
    "section": "3.5 Mosiac Pairs Plot of Gender, Purchases Per Week, and Education",
    "text": "3.5 Mosiac Pairs Plot of Gender, Purchases Per Week, and Education\n\n\nCode\nlibrary(vcd)\nsurvey = filter(survey, `Q-demos-gender` == 'Female' | `Q-demos-gender` == 'Male')\nsurvey = filter(survey, `Q-demos-education`!='Prefer not to say')\n\nsurvey = mutate(survey, `Q-demos-education` = ifelse(survey$`Q-demos-education`== \"Some High School or Less High School\" , \"&lt; High School\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Bachelor's degree\", \"Bachelors\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Graduate or professional degree (MA, MS, MBA, PhD, JD, MD, DDS, etc)\", \"Graduate\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Graduate/Professional Degree\", \"Graduate\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"Some high school or less\", \"&lt;High School\", survey$`Q-demos-education`))\nsurvey = mutate(survey, `Q-demos-education` = ifelse(`Q-demos-education`== \"High school diploma or GED\", \"High School\", survey$`Q-demos-education`))\nunique(survey$`Q-demos-education`)\n\n\n[1] \"High School\"  \"Graduate\"     \"Bachelors\"    \"&lt;High School\"\n\n\nCode\nsurvey = mutate(survey, `Q-amazon-use-how-oft` = ifelse(`Q-amazon-use-how-oft`== \"Less than 5 times per month\", \"&lt;5 a month\", survey$`Q-amazon-use-how-oft`))\nsurvey = mutate(survey, `Q-amazon-use-how-oft` = ifelse(`Q-amazon-use-how-oft`== \"5 - 10 times per month\", \"5-10 a month\", survey$`Q-amazon-use-how-oft`))\nsurvey = mutate(survey, `Q-amazon-use-how-oft` = ifelse(`Q-amazon-use-how-oft`== \"More than 10 times per month\", \"&gt;10 a month\", survey$`Q-amazon-use-how-oft`))\n\nvariables &lt;- c(\"Q-demos-gender\", \n               \"Q-amazon-use-how-oft\", \n               \"Q-demos-education\")\n\n# Filter the dataset to include only these variables\ndata_for_mosaic &lt;- survey %&gt;%\n  select(all_of(variables)) %&gt;%\n  na.omit() # Remove rows with NA values\n\n# Generate the mosaic plot\npairs(table(data_for_mosaic), \n      diag_panel = pairs_diagonal_mosaic(offset_varnames=-2.5),cex=1,\n      upper_panel_args = list(shade = TRUE),\n      lower_panel_args = list(shade = TRUE),\n      main = \"Mosaic Pairs Plot of Gender, Purchases Per Week, and Education\")\n\n\n\n\n\n\n\n\n\nTo see if the variables have a strong association we used a mosaic plot. Gender and education levels were strongly associated. However, for our topic we are more interested in the association with how often the user purchases from Amazon a month (shopping frequency). When looking at all three variables together, they were not strongly associated. Then if we just look at gender and how often the user shops on Amazon, there appears to be more of an association compared to education level and shopping frequency.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Age Education Gender Income Race\n\n\n\n\n\nWe used a Python script to group and parse the data so that we could create our grouped bar chart, showing the top five Amazon product categories for each of the different demographic groups.\n\nFrom our exploration, we discovered that the bar plot is very interesting because it shows the user’s top product categories and includes the year feature, which could give some insights into any changes due to COVID-19. The alluvial plot was also eye-opening since it showed the flow between different variables and included the top categories. However, the years were not included. This is why we decided to make an interactive grouped bar plot that included time and an option for someone to select the demographics and variables. This way, they can see what they want to see in a user-friendly way that was not available in the static version.\nBased on the other visualizations, we decided to include the demographic columns age, education, gender, income, and race. This allows the user to seamlessly select the demographic variable they want in order to see how that affects the number of purchases per category. They can check to see if this matches with what they thought or even if it matches their shopping behaviors. We saw similar behaviors with the alluvial plot when someone selects age with books and pet food being frequently purchased categories. However, we also see new top categories appear, such as cell phone cases for participants between 18-24 years old versus 65 and older, who are the only group who has coffee as a top category. When education level is the variable selected, it’s clear to see the top categories are about the same. It’s just the amounts that are different. When looking at gender, again, the same categories are popular; however, we see more female purchases, especially for books and pet food. Finally for income, the top categories are the same as gender and education, and we see a consistent pattern of books and pet food being the top two categories with fewer purchases overall when income decreases.\nOverall, by letting the person select one variable at a time, it is a simple and readable way to see that the demographic doesn’t really affect the top product categories but it does impact the number of purchases.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Interactive graph</span>"
    ]
  },
  {
    "objectID": "results.html#plot-1",
    "href": "results.html#plot-1",
    "title": "3  Results",
    "section": "3.6 Plot 1",
    "text": "3.6 Plot 1\n\n\nCode\nlibrary(lubridate) \n\n\nWarning: package 'lubridate' was built under R version 4.4.2\n\n\n\nAttaching package: 'lubridate'\n\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n\n\nCode\njoined$date = format(as.Date(joined$`Order Date`, format=\"%d/%m/%Y\"),\"%m/%Y\")\n\nper_month = summarise(group_by(joined, date), `Total Purchase Price Per Month` = sum(`Purchase Price Per Unit`))\nper_month$new_date = mdy(paste(\"01/\", per_month$date)) \nggplot(data = per_month, aes(x = new_date, y = `Total Purchase Price Per Month`, group = 1)) + geom_line() + geom_point() + theme(axis.text.x = element_text(angle = 75, hjust = 1))+\n  geom_vline(xintercept = as.Date(\"2020-03-01\"), color = \"red\", size = 1) +\n  geom_vline(xintercept = as.Date(\"2023-05-01\"), color = \"red\", size = 1) +\n  geom_rect(aes(xmin=as.Date(\"2020-03-01\"), xmax=as.Date(\"2023-05-01\"), ymin=0, ymax=Inf), alpha = 0.01, fill = \"light blue\") +\n  ggtitle(\"Total Spent on Amazon Products Each Month\") +\n  scale_x_date(date_labels = \"%m/%Y\", date_breaks = \"3 month\")\n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#plot-2",
    "href": "results.html#plot-2",
    "title": "3  Results",
    "section": "3.7 Plot 2",
    "text": "3.7 Plot 2\n\n\nCode\nsubstance = select(joined, `Q-substance-use-alcohol`, `Q-substance-use-cigarettes`, `Q-substance-use-marijuana`)\nsubstance = mutate(substance, substance_num = rowSums(substance == \"Yes\"))\njoined['substance_num']= substance$substance_num\n\n#zoomed out\nggplot(joined, aes(x = factor(`substance_num`) ,y = `Purchase Price Per Unit`)) + geom_boxplot() +\n  ggtitle(\"Prices of Purchases based Buyers Substance Use Habits\") +\n  xlab(\"Number of Substances the Buyer Uses\")\n\n\n\n\n\n\n\n\n\nA box plot was made to observe if substance use affects the price of an item a user purchases. The three possible substances that a buyer could use are alcohol, cigarettes, and/or marijuana. Originally when plotted the purchase price ranged from $8 to over $6,000 with this wide of a spread and the amount of outliers this plot is extremely spread out and almost impossible to see the actual boxes. However, this plot is still included to show these steps as well as to show the outliers since they have an interesting inverse pattern. People with no substance abuse had the most extreme outliers and the maximum purchase price decreased when the number of substances a buyer used increased.\n\n\nCode\n#find outliers\niqr = summary(joined$`Purchase Price Per Unit`)[[\"3rd Qu.\"]]-summary(joined$`Purchase Price Per Unit`)[[\"1st Qu.\"]]\njoined$top_coded_purchase = joined$`Purchase Price Per Unit`\n#joined with outliers replaced with mean as top_coded_purchase\njoined = mutate(joined, top_coded_purchase = ifelse(joined$`Purchase Price Per Unit` &gt; 44.89 , 44.89, joined$`Purchase Price Per Unit`))\n\n#facet based on gender\njoined = filter(joined, `Q-demos-gender` == 'Female' | `Q-demos-gender` == 'Male')\n\nggplot(joined, aes(x = factor(`substance_num`) ,y = top_coded_purchase)) + geom_boxplot() + facet_wrap(~`Q-demos-gender`) +\n  ggtitle(\"Prices of Purchases based Buyers Substance Use Habits\") +\n  xlab(\"Number of Substances the Buyer Uses\") + \n  ylab(\"Purchase Price Per Unit\")\n\n\n\n\n\n\n\n\n\nTo solve this readability issue and to see the actual boxes, we made the outliers the mean and got this graph. We also wanted to see if substance abuse purchase patterns were similar for males and females. The median purchase price is the same across all users no matter their gender or substance use history. However, buyers who used 3 substances bought lower-priced items compared to the rest, which was an apparent pattern for both genders. Also, females bought lower priced items than males consistently, however, they did have more outliers for the expensive items. In conclusion, since the main difference was between outliers, and we have a process to adjust for outliers, the amount of substance use does not appear to impact the distribution for purchasing price per unit.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#plot-3",
    "href": "results.html#plot-3",
    "title": "3  Results",
    "section": "3.8 Plot 3",
    "text": "3.8 Plot 3\n\n\nCode\n#Year and how much they used amazon a month\n#replaced outliers with mean\njoined$year = format(as.Date(joined$`Order Date`, format=\"%d/%m/%Y\"),\"%Y\")\nggplot(joined, aes(x = `year`, y = `Q-amazon-use-how-oft`, fill =`top_coded_purchase`)) +\n  geom_tile() + scale_fill_gradient(low=\"white\", high=\"blue\") +\n  ggtitle(\"Yearly Relationship of How Often a User Purchases on Amazon Each Month and the Price\") +\n  ylab(\"How Often a User Purchases on Amazon Each Month\") +\n  guides(color = guide_legend(title = \"Product Price Per Unit\")) + \n  theme(plot.title = element_text(hjust=0.70))\n\n\n\n\n\n\n\n\n\nThis heatmap explores people’s buying patterns each year on Amazon. It shows how many times people purchase on Amazon per month and how much those items are. The data had some extreme outliers that made most of the plot white with some pale blue which was unreliable and didn’t tell us anything. So a solution was to change all the outliers to the mean purchase price per unit which resulted in this graph. In the heatmap, users purchased more expensive items in 2022 and 2023, and there was an increase in item prices when they bought more than 10 items per month. Please note 2024 only had 1 colored square since there was only 1 purchase in 2024. We also saw a different pattern before Covid of people buying cheaper items regardless of how often they shopped on Amazon per month and if they did purchase an expensive item it was less than 10 times a month. From this graphic, it appears that no matter how often a user shopped per month at Amazon, people were buying more expensive items towards the end of the study compared to the beginning in 2018.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#plot-4",
    "href": "results.html#plot-4",
    "title": "3  Results",
    "section": "3.9 Plot 4",
    "text": "3.9 Plot 4\n\n\nCode\nlibrary(ggridges)\n\n\nWarning: package 'ggridges' was built under R version 4.4.1\n\n\nCode\njoined = filter(joined, `Q-demos-education`!='Prefer not to say')\nlabels = c(\"Some High School or Less High School\", \"High School Diploma/GED\", \"Graduate/Professional Degree\", \"Bachelor's Degree\")\n\n#Replacing outliers as mean\nggplot(joined, aes(x = `top_coded_purchase`, y = `Q-demos-education`)) +\n  geom_density_ridges() + theme(axis.text.y=element_text(size=8, angle=30, vjust=.8, hjust=0.8)) +\n  scale_y_discrete(labels = labels) +\n  ggtitle(\"Ridgeline Plot of Purchase Prices Based on Education Level\") +\n  xlab(\"Purchase Price Per Unit\") +\n  ylab(\"Education Level\")\n\n\nPicking joint bandwidth of 0.916\n\n\n\n\n\n\n\n\n\nThis graph compares the distribution of multiple education levels at once and shows the modes which is why a rideline plot was selected. A similar problem happened in the boxplot where some extreme outliers pushed the rideline out to make it unreadable. So the same process was used where the outliers were replaced with the mean, which is why we see a consistent peak around 44 which was the mean (this shows that all education levels had these outliers). For all education levels, there are very similar shapes showing the majority of the products purchased on Amazon are the cheaper lower priced items. The main difference is that bachelor’s degree has a bigger dip around 18 dollars which is interesting. In conclusion, we see similar patterns with more purchases for cheaper items and peaks where the price is a factor of 5 ($10, $15 etc.) with purchases decreasing as the price increases across all levels.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#plot-5",
    "href": "results.html#plot-5",
    "title": "3  Results",
    "section": "3.10 Plot 5",
    "text": "3.10 Plot 5\n\n\nCode\nlibrary(\"forcats\")\n\n\nWarning: package 'forcats' was built under R version 4.4.2\n\n\nCode\njoined['covid_status'] = 'During Covid'\njoined = mutate(joined, covid_status = ifelse(joined$`Order Date`&lt; '2020-03-01' , 'Before Covid', 'During Covid'))\njoined = mutate(joined, covid_status = ifelse(joined$`Order Date`&gt;= '2023-05-11' , 'After Covid', joined$`covid_status`))\nggplot(joined, aes(x=Quantity, y= top_coded_purchase, color =`Q-demos-age`)) + geom_point(alpha =0.5) +\n  facet_wrap(~fct_relevel(joined$covid_status, \"After Covid\", after = Inf)) +\n  ggtitle(\"Purchase Price Per Unit Versus the quantity of Product Bought Based on Covid Time Period\") +\n  guides(color = guide_legend(title = \"Age\")) + ylab(\"Purchase Price Per Unit\")\n\n\n\n\n\n\n\n\n\nTo show how purchasing behavior was affected by Covid we split the purchase dates into 3 categories (before, during, and after Covid). We also wanted to how age impacted a purchase’s price and quantity. We used the data where the mean replaced the purchase price outliers so the after Covid values are more readable. It’s important to note that there was less data for after Covid since the CCD stated May 11, 2023 was the last day of Covid and this study ended in 2023 with only 1 purchase from 2024. It looks like only 65 and older users bought during this time but we know this is not accurate since there are so few responses and we know that other age groups also used Amazon (they might have just not reported it or may have not bought on those specific days). So just looking at before and after Covid, there were very similar patterns. However, there seems to be more bulk buying during Covid and 25-34 year olds seem to be purchasing more, and older people are buying cheaper products. However, it’s hard to tell if this is true because the orange point may be covering some pink dots (even with the opacity feature on) and vice versa.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#line-graph-of-total-spent-on-amazon-products-each-month",
    "href": "results.html#line-graph-of-total-spent-on-amazon-products-each-month",
    "title": "3  Results",
    "section": "3.6 Line Graph of Total Spent on Amazon Products Each Month",
    "text": "3.6 Line Graph of Total Spent on Amazon Products Each Month\n\n\nCode\nlibrary(lubridate) \n\n\nWarning: package 'lubridate' was built under R version 4.4.2\n\n\n\nAttaching package: 'lubridate'\n\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n\n\nCode\njoined$date = format(as.Date(joined$`Order Date`, format=\"%d/%m/%Y\"),\"%m/%Y\")\n\nper_month = summarise(group_by(joined, date), `Total Purchase Price Per Month` = sum(`Purchase Price Per Unit`))\nper_month$new_date = mdy(paste(\"01/\", per_month$date)) \nggplot(data = per_month, aes(x = new_date, y = `Total Purchase Price Per Month`, group = 1)) + geom_line() + geom_point() + theme(axis.text.x = element_text(angle = 75, hjust = 1))+\n  geom_vline(xintercept = as.Date(\"2020-03-01\"), color = \"red\", size = 1) +\n  geom_vline(xintercept = as.Date(\"2023-05-01\"), color = \"red\", size = 1) +\n  geom_rect(aes(xmin=as.Date(\"2020-03-01\"), xmax=as.Date(\"2023-05-01\"), ymin=0, ymax=Inf), alpha = 0.01, fill = \"light blue\") +\n  ggtitle(\"Total Spent on Amazon Products Each Month\") +\n  scale_x_date(date_labels = \"%m/%Y\", date_breaks = \"3 month\")\n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n\n\n\n\n\n\n\nHere is a line plot to see purchase cost patterns over time. Specifically, we wanted to see if there is a change in people’s behavior relative to COVID-19, which is why the red lines signal the start and end of COVID-19 and is highlighted in blue. There does seem to be an increase in total purchase costs per month over time. It dives down in 2023, but as we stated earlier, that is due to fewer purchases recorded by the participants (and why there is only one purchase in 2024). However, with so many dates (over 5 years), we decided to zoom in, specifically during the Covid period, to see the purchase patterns more clearly, which is the other graph.\nZooming into just these dates in 2021, when COVID-19 was still happening, according to the CDC, there was some oscillation and then a low point at the end of summer, which spiked up during December. This shows that each month does not have a consistent increase, and the holiday spike is apparent even when we look at the last graph with all the dates.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#boxplot-of-price-of-purchases-based-on-substance-use-habits",
    "href": "results.html#boxplot-of-price-of-purchases-based-on-substance-use-habits",
    "title": "3  Results",
    "section": "3.7 Boxplot of Price of Purchases Based on Substance Use Habits",
    "text": "3.7 Boxplot of Price of Purchases Based on Substance Use Habits\n\n\nCode\nsubstance = select(joined, `Q-substance-use-alcohol`, `Q-substance-use-cigarettes`, `Q-substance-use-marijuana`)\nsubstance = mutate(substance, substance_num = rowSums(substance == \"Yes\"))\njoined['substance_num']= substance$substance_num\n\n#zoomed out\nggplot(joined, aes(x = factor(`substance_num`) ,y = `Purchase Price Per Unit`)) + geom_boxplot() +\n  ggtitle(\"Prices of Purchases based Buyers Substance Use Habits\") +\n  xlab(\"Number of Substances the Buyer Uses\")\n\n\n\n\n\n\n\n\n\nA box plot was made to observe if substance use affects the price of an item a user purchases. The three possible substances that a buyer could use are alcohol, cigarettes, and/or marijuana. Initially, when plotted, the purchase price ranged from $8 to over $6,000. With this wide spread and the number of outliers, this plot is significantly spread out and it is almost impossible to see the actual boxes. However, this plot is still included to show these step as well as to show the outliers since they have an interesting pattern. People with no substance abuse had the most extreme outliers, and the highest purchase price kept decreasing the more substances the buyer used.\n\n\nCode\n#find outliers\niqr = summary(joined$`Purchase Price Per Unit`)[[\"3rd Qu.\"]]-summary(joined$`Purchase Price Per Unit`)[[\"1st Qu.\"]]\njoined$top_coded_purchase = joined$`Purchase Price Per Unit`\n#joined with outliers replaced with mean as top_coded_purchase\njoined = mutate(joined, top_coded_purchase = ifelse(joined$`Purchase Price Per Unit` &gt; 44.89 , 44.89, joined$`Purchase Price Per Unit`))\n\n#facet based on gender\njoined = filter(joined, `Q-demos-gender` == 'Female' | `Q-demos-gender` == 'Male')\n\nggplot(joined, aes(x = factor(`substance_num`) ,y = top_coded_purchase)) + geom_boxplot() + facet_wrap(~`Q-demos-gender`) +\n  ggtitle(\"Prices of Purchases based Buyers Substance Use Habits\") +\n  xlab(\"Number of Substances the Buyer Uses\") + \n  ylab(\"Purchase Price Per Unit\")\n\n\n\n\n\n\n\n\n\nTo solve this readability issue and to see the actual boxes, we made the outliers the mean and got this graph. We also wanted to see if substance abuse purchase patterns were similar for males and females. It’s apparent that the median purchase price is the same across all users, no matter their gender or substance use history. However, buyers that used 3 substances bought lower-priced items compared to the rest, which was an apparent pattern for both genders. Also, females consistently bought lower-priced items than males; however, they had more outliers for the expensive items. In conclusion, since the main difference was between outliers, and we have a process to adjust for outliers so that the amount of substance abuse does not appear to impact the distribution for purchasing price per unit.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#heatmap-of-how-often-a-user-purchases-each-month-vs-price",
    "href": "results.html#heatmap-of-how-often-a-user-purchases-each-month-vs-price",
    "title": "3  Results",
    "section": "3.8 Heatmap of How Often a User Purchases Each Month vs Price",
    "text": "3.8 Heatmap of How Often a User Purchases Each Month vs Price\n\n\nCode\n#Year and how much they used amazon a month\n#replaced outliers with mean\njoined$year = format(as.Date(joined$`Order Date`, format=\"%d/%m/%Y\"),\"%Y\")\nggplot(joined, aes(x = `year`, y = `Q-amazon-use-how-oft`, fill =`top_coded_purchase`)) +\n  geom_tile() + scale_fill_gradient(low=\"white\", high=\"blue\") +\n  ggtitle(\"Yearly Relationship of How Often a User Purchases on Amazon Each Month and the Price\") +\n  ylab(\"How Often a User Purchases on Amazon Each Month\") +\n  guides(color = guide_legend(title = \"Product Price Per Unit\")) + \n  theme(plot.title = element_text(hjust=0.70))\n\n\n\n\n\n\n\n\n\nThis heatmap explores people’s buying patterns each year on Amazon. It shows how many times people purchase on Amazon per month and how much those items are. The data had some extreme outliers that made most of the plot white with some pale blue which was unreliable and didn’t tell us anything. So a solution was to change all the outliers to the mean purchase price per unit which resulted in this graph. In the heatmap, users purchased more expensive items in 2022 and 2023, and there was an increase in item prices when they bought more than 10 items per month. Please note 2024 only had 1 colored square since there was only 1 purchase in 2024. We also saw a different pattern before Covid of people buying cheaper items regardless of how often they shopped on Amazon per month and if they did purchase an expensive item it was less than 10 times a month. From this graphic, it appears that no matter how often a user shopped per month at Amazon, people were buying more expensive items towards the end of the study compared to the beginning in 2018.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#ridgeline-plot-of-purchase-price-based-on-education",
    "href": "results.html#ridgeline-plot-of-purchase-price-based-on-education",
    "title": "3  Results",
    "section": "3.9 Ridgeline Plot of Purchase Price Based on Education",
    "text": "3.9 Ridgeline Plot of Purchase Price Based on Education\n\n\nCode\nlibrary(ggridges)\n\n\nWarning: package 'ggridges' was built under R version 4.4.1\n\n\nCode\njoined = filter(joined, `Q-demos-education`!='Prefer not to say')\nlabels = c(\"Some High School or Less High School\", \"High School Diploma/GED\", \"Graduate/Professional Degree\", \"Bachelor's Degree\")\n\n#Replacing outliers as mean\nggplot(joined, aes(x = `top_coded_purchase`, y = `Q-demos-education`)) +\n  geom_density_ridges() + theme(axis.text.y=element_text(size=8, angle=30, vjust=.8, hjust=0.8)) +\n  scale_y_discrete(labels = labels) +\n  ggtitle(\"Ridgeline Plot of Purchase Prices Based on Education Level\") +\n  xlab(\"Purchase Price Per Unit\") +\n  ylab(\"Education Level\")\n\n\nPicking joint bandwidth of 0.916\n\n\n\n\n\n\n\n\n\nThis graph compares the distribution of multiple education levels at once and shows the modes which is why a rideline plot was selected. A similar problem happened in the boxplot where some extreme outliers pushed the rideline out to make it unreadable. So the same process was used where the outliers were replaced with the mean, which is why we see a consistent peak around 44 which was the mean (this shows that all education levels had these outliers). For all education levels, there are very similar shapes showing the majority of the products purchased on Amazon are the cheaper lower priced items. The main difference is that bachelor’s degree has a bigger dip around 18 dollars which is interesting. In conclusion, we see similar patterns with more purchases for cheaper items and peaks where the price is a factor of 5 ($10, $15 etc.) with purchases decreasing as the price increases across all levels.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#purchase-price-per-unit-faceted-by-before-during-or-after-covid",
    "href": "results.html#purchase-price-per-unit-faceted-by-before-during-or-after-covid",
    "title": "3  Results",
    "section": "3.10 Purchase Price Per Unit Faceted by Before, During, or After COVID",
    "text": "3.10 Purchase Price Per Unit Faceted by Before, During, or After COVID\n\n\nCode\nlibrary(\"forcats\")\n\n\nWarning: package 'forcats' was built under R version 4.4.2\n\n\nCode\njoined['covid_status'] = 'During Covid'\njoined = mutate(joined, covid_status = ifelse(joined$`Order Date`&lt; '2020-03-01' , 'Before Covid', 'During Covid'))\njoined = mutate(joined, covid_status = ifelse(joined$`Order Date`&gt;= '2023-05-11' , 'After Covid', joined$`covid_status`))\nggplot(joined, aes(x=Quantity, y= top_coded_purchase, color =`Q-demos-age`)) + geom_point(alpha =0.5) +\n  facet_wrap(~fct_relevel(joined$covid_status, \"After Covid\", after = Inf)) +\n  ggtitle(\"Purchase Price Per Unit Versus the quantity of Product Bought Based on Covid Time Period\") +\n  guides(color = guide_legend(title = \"Age\")) + ylab(\"Purchase Price Per Unit\")\n\n\n\n\n\n\n\n\n\nTo show how purchasing behavior was affected by Covid we split the purchase dates into 3 categories (before, during, and after Covid). We also wanted to how age impacted a purchase’s price and quantity. We used the data where the mean replaced the purchase price outliers so the after Covid values are more readable. It’s important to note that there was less data for after Covid since the CCD stated May 11, 2023 was the last day of Covid and this study ended in 2023 with only 1 purchase from 2024. It looks like only 65 and older users bought during this time but we know this is not accurate since there are so few responses and we know that other age groups also used Amazon (they might have just not reported it or may have not bought on those specific days). So just looking at before and after Covid, there were very similar patterns. However, there seems to be more bulk buying during Covid and 25-34 year olds seem to be purchasing more, and older people are buying cheaper products. However, it’s hard to tell if this is true because the orange point may be covering some pink dots (even with the opacity feature on) and vice versa.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "5  Conclusion",
    "section": "",
    "text": "In this project, we wanted to explore America’s shopping habits on Amazon and see if there were any trends based on demographics or if world events, like the COVID-19 pandemic, impacted Amazon purchase behavior. We made numerous plots and discovered some key insights on this topic. When looking at the top product categories bought per year, although the order of categories remained consistent, the popularity and increase in purchases increased yearly. Throughout the graphs, we saw the number of Amazon purchases rising over time. However, we did see that in 2023, there was a decrease in sales and purchases, although this might have to do with a limitation in our dataset. Since this dataset was based on voluntary survey data, the number of purchases was not evenly distributed, so some years seem to have fewer results. This data also had numerous columns, the majority of which were categorical. In the future, we would like to combine this dataset with another dataset to have an equal number of categorical and numerical variables and further explore Amazon data through other graphs, such as scatterplots and contour plots. We learned more about our data through each plot, but the bar chart and alluvial plot especially told us about the most popular product categories and the users’ preferences. We also looked into how Amazon purchases are distributed geospatially across the US by plotting the total number of Amazon orders on a state map. In the future, we would like to divide this number by population density to get a better idea of what states buy the most on Amazon per person. Using the other plots, we discovered which demographic variables were associated with purchase prices and dove deeper into that discovery using D3. This interactive bar chart is simple yet effective, as it lets the person see how choosing the demographic category changes the most popular categories, which was impossible to see in the static graph. Given more time, it would be interesting to add a quiz component to D3 about the top product category for your age group, where they can input their age and their prediction. However, due to our time constraints, we believe that we successfully explored our data, created a compelling data story with static R plots and a D3 interactive plot, and found some insight into who is buying certain products on Amazon.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  }
]